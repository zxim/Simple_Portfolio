#### 📌 프로젝트 개요
현재 진행 중인 개인 프로젝트로, 시각장애인을 위한 YouTube 음성 안내 크롬 확장 프로그램을 개발하고 있습니다.
영상의 제목, 채널명, 조회수, 업로드일 등 주요 정보를 자동으로 `TTS(Text-to-Speech)`로 읽어주는 기능을 통해, 시각 정보에 접근이 어려운 사용자도 유튜브 콘텐츠를 탐색할 수 있도록 돕는 것이 목적입니다.
사용자는 `Shift` 키를 누른 상태로 마우스를 움직이기만 하면, 현재 커서가 위치한 **요소(예: 영상 제목, 채널명 등)** 의 정보를 자동으로 인식하여 음성으로 안내해줍니다.
페이지 내 `DOM 구조`를 실시간으로 탐색하고, 해당 위치에 알맞은 정보를 추출해 읽어주는 방식으로 구현하였습니다.


#### 📌 주요 기능
- **Shift + 마우스 이동 기반 음성 안내**
사용자가 Shift 키를 누른 채 마우스를 움직이면, 커서가 위치한 YouTube 요소(제목, 채널명, 조회수 등)를 탐지해 해당 텍스트를 실시간으로 읽어줌

- **TTS(Text-to-Speech) 자동 음성 변환**
Web Speech API를 활용하여 시각적 요소를 음성으로 변환, 한국어 음성 출력을 기본으로 구현

- **동적 DOM 변경 대응**
YouTube는 SPA 구조로 콘텐츠가 비동기 로딩되므로, MutationObserver로 DOM 변화 감지 → 요소 탐지 → 정보 읽기를 순차적으로 처리

- **중복 안내 방지 및 속도 제어**
마우스가 빠르게 움직일 경우 중복 음성이 겹치지 않도록 speechSynthesis.cancel()로 이전 안내를 종료하고, 사용자 설정 기반으로 음성 속도 조절


#### 📌문제 해결 
- **TTS가 화면 이동해도 계속 출력되는 문제**: 영상 썸네일 클릭 후 재생 페이지로 전환되었음에도 이전 페이지의 TTS가 중단되지 않고 계속 출력됨
    - `speechSynthesis.cancel()` 호출로 기존 TTS 즉시 중단
    - `chrome.webNavigation.onHistoryStateUpdated` 이벤트를 이용해 SPA 페이지 전환 감지
    - `ctrl+ Hover`의 기존 단축키 조합을 `Shift + Hover`로 변경하고 `keydown/keyup`으로 상태 제어
    - `Debounce` 로직을 추가해 빠른 연속 이벤트에서 TTS가 중첩되지 않도록 처리

- **제목 대신 재생시간(1:24:39 등)을 읽는 문제**: 썸네일 카드의 innerText에서 가장 먼저 나타나는 재생시간 문자열을 제목으로 잘못 인식함
    - 시간 형식을 감지하는 정규식 추가 (예: `^\d{1,2}:\d{2}` 패턴 등)
    - 의미 없는 줄**(“재생”, “1:24:39”)** 제거 후 실제 콘텐츠 정보만 필터링
    - `innerText` 대신 구조화된 `DOM` 요소로 접근하는 방식으로 전환 **(예: #video-title, #channel-name)**

- **웹페이지 구조 변경에 따른 셀렉터 파손 문제**: 유튜브는 SPA 방식이며 UI가 자주 변경되므로, 고정된 셀렉터`(querySelector('#metadata-line'))`만 의존할 경우 코드가 자주 깨짐
    - 카드 전체의 `innerText`를 **줄 단위로 파싱**하여 정보 추출 `(.split(/\n/))`
    - 줄별로 필터링하여 제목, 채널명, 조회수, 업로드일을 동적으로 식별
    - `MutationObserver`를 활용해 비동기로 추가되는 카드에도 실시간 바인딩
    - 페이지 전환 감지를 위해 `yt-navigate-finish` 이벤트 사용
